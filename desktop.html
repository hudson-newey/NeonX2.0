<!DOCTYPE html>
<html lang="en" onkeyup="esc(event)" onmousemove="screensaverTimeout=600">
<head>
  <meta charset="UTF-8">
  <title>NeonX</title>
  <link rel="stylesheet" href="./NeonX/sys/dist/style.css">
  <link rel="stylesheet" href="./NeonX/sys/dist/desktop.css">
  <link rel="shortcut icon" href="./NeonX/icons/favicon.png">

  <script src='./NeonX/lib/jquery.js'></script>
  <script src="./NeonX/lib/jquery-ui.js"></script>
  <script src="./NeonX/sys/dist/constants.js"></script>
</head>
<body>

<div id="desktopBG" class="desktop">
  <div class="desktopItem" ondblclick="startProgram('', browserNewTab)">
    <img class="desktopItemIcon" src="./NeonX/icons/internet.png"></img>
    <span>Browser</span>
  </div>
  <div class="desktopItem" ondblclick="startProgram('Notepad', '')">
    <img class="desktopItemIcon" src="./applications/Notepad/favicon.png"></img>
    <span>Notepad</span>
  </div>
  <div class="desktopItem" ondblclick="startProgram('', 'http://localhost:8080/?dir=Home')">
    <img class="desktopItemIcon" src="./NeonX/icons/files.png"></img>
    <span>Files</span>
  </div>
  <div class="desktopItem" ondblclick="startProgram('Google Docs', '')">
    <img class="desktopItemIcon" src="./applications/Google Docs/favicon.png"></img>
    <span>Docs</span>
  </div>
  <div class="desktopItem" ondblclick="startProgram('Google Slides', '')">
    <img class="desktopItemIcon" src="./applications/Google Slides/favicon.png"></img>
    <span>Slides</span>
  </div>
  <div class="desktopItem" ondblclick="startProgram('Google Sheets', '')">
    <img class="desktopItemIcon" src="./applications/Google Sheets/favicon.png"></img>
    <span>Sheets</span>
  </div>

  <a id="editDesktopButton" href="#" onclick="desktopContextMenu(window.innerWidth - 200, 0, true)">☰</a>

  <ul class="contextMenu" id="desktopContextMenu" style="display:none">
    <strong id="contextMenuTitle"><u>NeonX</u></strong>
    <li onclick="initializeDesktop()">Refresh Desktop</li>
    <li onclick="addFile('file')">New File</li>
    <li onclick="document.getElementById('file-input').click()">Install Apps</li>
    <li onclick="$('#all-apps').show()">All Apps</li>
    <li onclick="startProgram('Settings', '')">Settings</li>
  </ul>

  <div class="start-menu">
    <div class="start-menu__list">
      <div class="media">
        <a class="user-info menu-toggle" href="#" data-menu="user">
        <img class="user-info__img media__img" src="./NeonX/icons/profile.png">
        <div class="accountImage">
          <span id="currentUser">Demo Account</span>
        </div>
        </a>
        <div class="menu" data-menu="user">
          <a href="#" onclick="startProgram('Settings', '')">Settings</a>
          <a href="#" onclick="user('lock')">Lock</a>
          <a href="#" onclick="user('logout')">Switch User</a>
        </div>
        <a class="user-info__power menu-toggle" href="#" data-menu="power">
          <strong>⏻</strong>
        </a>
      </div>

      <div class="menu" data-menu="power">
        <a onclick="user('sleep')">Sleep</a>
        <a onclick="window.close()" href="#">Power off</a>
        <a onclick="location.reload(false)" href="#">Reset</a>
      </div>


      <ul class="start-menu__recent">
        <li class="startMenuItem">
          <a onclick="startProgram('', browserNewTab)">
            <img class="icons" src="./NeonX/icons/internet.png"/>
            <span class="startMenuItemText">Web Browser</span>
          </a>
        </li>

        <li class="startMenuItem">
          <a onclick="startProgram('Notepad', '')">
            <img class="icons" src="./applications/Notepad/favicon.png"/>
            <span class="startMenuItemText">Notepad</span>
          </a>
        </li>

        <li class="startMenuItem">
          <a onclick="startProgram('', 'http://localhost:8080/?dir=Home')">
            <img class="icons" src="./NeonX/icons/files.png"/>
            <span class="startMenuItemText">Files</span>
          </a>
        </li>

        <li class="startMenuItem">
          <a onclick="startProgram('Settings', '')">
            <img class="icons" src="./applications/Settings/favicon.png"/>
            <span class="startMenuItemText">Settings</span>
          </a>
        </li>

        <li class="startMenuItem">
          <a id="allAppsButton" href="#">
            <img class="icons" src="./applications/Settings/favicon.png"/>
            <span class="startMenuItemText">All apps</span>
          </a>
        </li>
      </ul>

      <input type="span" id="search__input" placeholder="search" onkeydown="navigate(event)" spellcheck="false" autocomplete="off" autofocus></input>
    </div>
  </div>

  <div id="all-apps" style="display: none">
    <button id="allAppsCloseBTN" type="button">exit</button>

    <div class="drawItem" onclick="startProgram('', browserNewTab)">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./NeonX/icons/internet.png"></img><br>
      <span>Web Browser</span>
    </div>
    <div class="drawItem" onclick="startProgram('Notepad', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Notepad/favicon.png"></img><br>
      <span>Notepad</span>
    </div>
    <div class="drawItem" onclick="startProgram('', 'http://localhost:8080/?dir=Home')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./NeonX/icons/files.png"></img><br>
      <span>Files</span>
    </div>
    <div class="drawItem" onclick="startProgram('Google Docs', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Google Docs/favicon.png"></img><br>
      <span>Docs</span>
    </div>
    <div class="drawItem" onclick="startProgram('Google Slides', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Google Slides/favicon.png"></img><br>
      <span>Slides</span>
    </div>
    <div class="drawItem" onclick="startProgram('Google Sheets', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Google Sheets/favicon.png"></img><br>
      <span>Sheets</span>
    </div>
    <div class="drawItem" onclick="startProgram('PDF Viewer', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/PDF Viewer/favicon.png"></img><br>
      <span>PDF Viewer</span>
    </div>
    <div class="drawItem" onclick="startProgram('Clock', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Clock/favicon.png"></img><br>
      <span>Clock</span>
    </div>
    <div class="drawItem" onclick="startProgram('Camera', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Camera/favicon.png"></img><br>
      <span>Camera</span>
    </div>
    <div class="drawItem" onclick="startProgram('Settings', '')">
      <button class="deleteBTN">x</button>
      <img class="desktopItemIcon" src="./applications/Settings/favicon.png"></img><br>
      <span>Settings</span>
    </div>
  </div>
  
  <div class="taskbar">
    <button id="superButton" class="" href="#">X</button>

    <div class="taskbarTray">
      <span class="wrapper-taskbar" id="appsTray"></span>

      <a class="time" onclick="startProgram('Clock', '')">
        <time id="timeDisplay"></time>
      </a>

      <button id="showDesktopButton" type="button" onclick="showDesktop()"></button>
    </div>
  </div>
</div>

</body>

<footer>
  <script src="./NeonX/sys/dist/desktop.js"></script>
  <script src="./NeonX/sys/dist/script.js"></script>

  <!-- TODO: remove this -->
  <input id="file-input" type="file" name="name" onchange="addApp(this.files)" style="display: none"/>
</footer>

</html>
